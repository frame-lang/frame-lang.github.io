<!DOCTYPE html><html lang="en-US" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Hello Worlds - Part 2" /><meta name="author" content="Mark Truluck" /><meta property="og:locale" content="en_US" /><meta name="description" content="Stateful machines" /><meta property="og:description" content="Stateful machines" /><link rel="canonical" href="/posts/hello_worlds_part_2/" /><meta property="og:url" content="/posts/hello_worlds_part_2/" /><meta property="og:site_name" content="Frame" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-02-13T16:00:01+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Hello Worlds - Part 2" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Mark Truluck" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Mark Truluck"},"description":"Stateful machines","url":"/posts/hello_worlds_part_2/","headline":"Hello Worlds - Part 2","@type":"BlogPosting","dateModified":"2021-02-13T16:00:01+08:00","datePublished":"2021-02-13T16:00:01+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/hello_worlds_part_2/"},"@context":"https://schema.org"}</script><title>Hello Worlds - Part 2 | Frame</title><link rel="icon" href="/assets/img/favicons/favicon.png" type="image/x-icon"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-VKPZ1VN8H2"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-VKPZ1VN8H2'); }); </script> <script async src="https://www.googletagmanager.com/gtag/js?id={"id"=>"G-VKPZ1VN8H2", "pv"=>{"enabled"=>false, "proxy_url"=>"", "proxy_endpoint"=>"", "cache"=>false}}"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', '{"id"=>"G-VKPZ1VN8H2", "pv"=>{"enabled"=>false, "proxy_url"=>"", "proxy_endpoint"=>"", "cache"=>false}}'); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div class="site-title mt-3"> <a href="/">Frame</a></div><div class="site-subtitle font-italic">A Software Architecture Language</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/resources/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>RESOURCES</span> </a><li class="nav-item"> <a href="/notation/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>FRAME NOTATION</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://www.linkedin.com/in/marktruluck/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['mark','frame-lang.org'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="https://github.com/frame-lang" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Hello Worlds - Part 2</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Hello Worlds - Part 2</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Feb 13, 2021, 4:00 PM +0800" > Feb 13, 2021 <i class="unloaded">2021-02-13T16:00:01+08:00</i> </span> by <span class="author"> Mark Truluck </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1001 words">5 min</span></div></div><div class="post-content"><h1 id="stateful-machines">Stateful machines</h1><p>In the <a href="/posts/hello_worlds_part_1/">last article</a> we successfully had a Frame system say “Hello World”. In this one we will guild the lily a bit and explore some of the core Frame syntax for implementing basic state machines.</p><h2 id="event-message-aliasing">Event Message Aliasing</h2><p>By default the Frame syntax for interface methods sends an event with a message that is the same name as the interface method:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>#World_v6

  -interface-

  speak

  ...

##
</pre></table></code></div></div><p>The Frame notation above generates the following <code class="language-plaintext highlighter-rouge">C#</code> code:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="c1">//===================== Interface Block ===================//</span>

<span class="k">public</span> <span class="k">void</span> <span class="nf">speak</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">FrameEvent</span> <span class="n">e</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FrameEvent</span><span class="p">(</span><span class="s">"speak"</span><span class="p">,</span><span class="k">null</span><span class="p">);</span>
    <span class="nf">_state_</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure><p>Frame <strong>event message aliases</strong> provide a way to send a different message into the state machine:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre>#World_v7

  -interface-

  speak @(|parler|)

  -machine-

  $Begin
    |parler|
      print("Coucou le monde") ^

  -actions-

  print [msg:string]

##
</pre></table></code></div></div><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp">    <span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">World_v7</span> <span class="p">{</span>

        <span class="p">...</span>

        <span class="c1">//===================== Interface Block ===================//</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">speak</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">FrameEvent</span> <span class="n">e</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FrameEvent</span><span class="p">(</span><span class="s">"parler"</span><span class="p">,</span><span class="k">null</span><span class="p">);</span>
            <span class="nf">_state_</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="p">}</span>    

        <span class="c1">//===================== Machine Block ===================//</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">_sBegin_</span><span class="p">(</span><span class="n">FrameEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Msg</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"parler"</span><span class="p">))</span> <span class="p">{</span>
                <span class="nf">print_do</span><span class="p">(</span><span class="s">"Coucou le monde"</span><span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="p">...</span>
    <span class="p">}</span></code></pre></figure><p>Here we see that the interface method <code class="language-plaintext highlighter-rouge">speak</code> now sends <code class="language-plaintext highlighter-rouge">parler</code> instead of the default <code class="language-plaintext highlighter-rouge">speak</code> message.</p><p>Aliasing allows us to decouple the interface from the details of the event handling in the state machine. This feature enables Frame to support a few symbolic messages that are reserved for certain standard semantic operations:</p><div class="table-wrapper"><table><tbody><tr><td>Message<td>Meaning<tr><td>&gt;<td>Enter State<tr><td>&lt;<td>Exit State<tr><td>&gt;&gt;<td>Start System<tr><td>&lt;&lt;<td>Stop System<tr><td>&gt;&gt;&gt;<td>Save System<tr><td>&lt;&lt;&lt;<td>Restore System</table></div><p>Let’s convert our World to use this new ability:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre>#World_v8

  -interface-

  start @(|&gt;&gt;|)

  -machine-

  $Begin
    |&gt;&gt;|
      print("Hello World") ^

  -actions-

  print [msg:string]

##
</pre></table></code></div></div><p>Now we are able to send the standard Frame <code class="language-plaintext highlighter-rouge">start</code> message <code class="language-plaintext highlighter-rouge">&gt;&gt;</code> to trigger our greeting:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp">    <span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">World_v8</span> <span class="p">{</span>

        <span class="p">...</span>

        <span class="c1">//===================== Interface Block ===================//</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">start</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">FrameEvent</span> <span class="n">e</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FrameEvent</span><span class="p">(</span><span class="s">"&gt;&gt;"</span><span class="p">,</span><span class="k">null</span><span class="p">);</span>
            <span class="nf">_state_</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">//===================== Machine Block ===================//</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">_sBegin_</span><span class="p">(</span><span class="n">FrameEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Msg</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"&gt;&gt;"</span><span class="p">))</span> <span class="p">{</span>
                <span class="nf">print_do</span><span class="p">(</span><span class="s">"Hello World"</span><span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="p">...</span>
    <span class="p">}</span></code></pre></figure><p>Cool. However, we don’t want to be a one state pony. Instead we are going to stretch our boundaries and introduce a new <code class="language-plaintext highlighter-rouge">$Working</code> state to do the heavy lifting of printing our greeting.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre>#World_v9

  -interface-

  start @(|&gt;&gt;|)

  -machine-

  $Begin
    |&gt;&gt;| ^

  $Working
    |&gt;|
      print("Hello World") ^

  -actions-

  print [msg:string]

##
</pre></table></code></div></div><p>In the <code class="language-plaintext highlighter-rouge">$Working</code> state we see the use of the new enter message <code class="language-plaintext highlighter-rouge">&gt;</code> that calls the <code class="language-plaintext highlighter-rouge">print()</code> action now.</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp">    <span class="k">private</span> <span class="k">void</span> <span class="nf">_sWorking_</span><span class="p">(</span><span class="n">FrameEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Msg</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"&gt;"</span><span class="p">))</span> <span class="p">{</span>
            <span class="nf">print_do</span><span class="p">(</span><span class="s">"Hello World"</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span></code></pre></figure><p>This is the same event handler pattern we have seen before but there is a big mystery here - where does the enter message come from? So far we have only seen messages on events created by the interface. What’s worse is there is the major problem of not knowing how to get to the <code class="language-plaintext highlighter-rouge">$Working</code> state in the first place.</p><p>The answer to both questions is the inner workings of <strong>the transition</strong>.</p><h2 id="transitions">Transitions</h2><p>Central to state machine theory is the idea of a <i>transition</i> from one state to another. Frame notates transitions with the <code class="language-plaintext highlighter-rouge">-&gt;</code> symbol. So to get from <code class="language-plaintext highlighter-rouge">$Begin</code> to <code class="language-plaintext highlighter-rouge">$Working</code> we can do this:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>    $Begin
      |&gt;&gt;|
        -&gt; $Working ^
</pre></table></code></div></div><p>This notation generates this code:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp">    <span class="k">private</span> <span class="k">void</span> <span class="nf">_sBegin_</span><span class="p">(</span><span class="n">FrameEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Msg</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"&gt;&gt;"</span><span class="p">))</span> <span class="p">{</span>
            <span class="nf">_transition_</span><span class="p">(</span><span class="n">_sWorking_</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span></code></pre></figure><p>Transitions do three core activities:</p><ul><li>Send an exit event to the current state<li>Change the <code class="language-plaintext highlighter-rouge">_state_</code> variable to the new state<li>Send an enter event to the new state</ul><p>Here is the code for the <code class="language-plaintext highlighter-rouge">_transition_()</code> method:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp">    <span class="k">private</span> <span class="k">void</span> <span class="nf">_transition_</span><span class="p">(</span><span class="n">FrameState</span> <span class="n">newState</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">FrameEvent</span> <span class="n">exitEvent</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FrameEvent</span><span class="p">(</span><span class="s">"&lt;"</span><span class="p">,</span><span class="k">null</span><span class="p">);</span>
        <span class="nf">_state_</span><span class="p">(</span><span class="n">exitEvent</span><span class="p">);</span>
        <span class="n">_state_</span> <span class="p">=</span> <span class="n">newState</span><span class="p">;</span>
        <span class="n">FrameEvent</span> <span class="n">enterEvent</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FrameEvent</span><span class="p">(</span><span class="s">"&gt;"</span><span class="p">,</span><span class="k">null</span><span class="p">);</span>
        <span class="nf">_state_</span><span class="p">(</span><span class="n">enterEvent</span><span class="p">);</span>
    <span class="p">}</span></code></pre></figure><p>Enter and exit events are, essentially, constructors and destructors for states and enable powerful mechanisms for managing resources. For instance the following code is a template for how to use a timer properly to do an activity report:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>#TimeStudy

  -machine-

  $Working
    |&gt;|
      startTimer() ^
    |&lt;|
      stopTimer()
      generateTimeStudy() ^

##
</pre></table></code></div></div><p>You can try it yourself in the <a href="http://frame-lang.org" target="_blank">Framepiler</a>.</p><p>We now have all the tools to understand how “Hello World” can be emitted from a true state machine:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre>---------------------------------------

#World_v10

  -interface-

  start @(|&gt;&gt;|)

  -machine-

  $Begin
    |&gt;&gt;|
      -&gt; $Working ^

  $Working
    |&gt;|
      print("Hello World") ^

  -actions-

  print [msg:string]

##
</pre></table></code></div></div><p>Here is what it looks like in <code class="language-plaintext highlighter-rouge">C#</code>:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp">    <span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">World_v10</span> <span class="p">{</span>

        <span class="k">public</span> <span class="nf">World_v10</span><span class="p">()</span> <span class="p">{</span>

            <span class="n">_state_</span> <span class="p">=</span> <span class="n">_sBegin_</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">//===================== Interface Block ===================//</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">start</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">FrameEvent</span> <span class="n">e</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FrameEvent</span><span class="p">(</span><span class="s">"&gt;&gt;"</span><span class="p">,</span><span class="k">null</span><span class="p">);</span>
            <span class="nf">_state_</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">//===================== Machine Block ===================//</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">_sBegin_</span><span class="p">(</span><span class="n">FrameEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Msg</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"&gt;&gt;"</span><span class="p">))</span> <span class="p">{</span>
                <span class="nf">_transition_</span><span class="p">(</span><span class="n">_sWorking_</span><span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">_sWorking_</span><span class="p">(</span><span class="n">FrameEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Msg</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"&gt;"</span><span class="p">))</span> <span class="p">{</span>
                <span class="nf">print_do</span><span class="p">(</span><span class="s">"Hello World"</span><span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">//===================== Actions Block ===================//</span>

        <span class="k">public</span> <span class="k">virtual</span> <span class="k">void</span> <span class="nf">print_do</span><span class="p">(</span><span class="kt">string</span> <span class="n">msg</span><span class="p">)</span> <span class="p">{}</span>

        <span class="c1">//=========== Machinery and Mechanisms ===========//</span>

        <span class="k">private</span> <span class="k">delegate</span> <span class="k">void</span> <span class="nf">FrameState</span><span class="p">(</span><span class="n">FrameEvent</span> <span class="n">e</span><span class="p">);</span>
        <span class="k">private</span> <span class="n">FrameState</span> <span class="n">_state_</span><span class="p">;</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">_transition_</span><span class="p">(</span><span class="n">FrameState</span> <span class="n">newState</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">FrameEvent</span> <span class="n">exitEvent</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FrameEvent</span><span class="p">(</span><span class="s">"&lt;"</span><span class="p">,</span><span class="k">null</span><span class="p">);</span>
            <span class="nf">_state_</span><span class="p">(</span><span class="n">exitEvent</span><span class="p">);</span>
            <span class="n">_state_</span> <span class="p">=</span> <span class="n">newState</span><span class="p">;</span>
            <span class="n">FrameEvent</span> <span class="n">enterEvent</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FrameEvent</span><span class="p">(</span><span class="s">"&gt;"</span><span class="p">,</span><span class="k">null</span><span class="p">);</span>
            <span class="nf">_state_</span><span class="p">(</span><span class="n">enterEvent</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span></code></pre></figure><p>You can see a working demo of this on <a href="https://dotnetfiddle.net/SqOwD7" target="_blank">.NET fiddle</a>. (NOTE: In the online version I have added code to the <code class="language-plaintext highlighter-rouge">print()</code> action to actually write the greeting. More to come on how to use Frame state machines in real world development later).</p><h2 id="conclusion">Conclusion</h2><p>We have now seen a couple of ways to implement “Hello World” which have allowed us to explore some of Frame’s core capabilities.</p><p>In the <a href="/posts/hello_worlds_part_3/">next and final installment</a> of our “Hello World” saga, we will dive deep into the power of <strong>hierarchical state machines</strong> as well as bring the world to a tidy <code class="language-plaintext highlighter-rouge">$End</code> with <strong>stop</strong> events using Frame notation.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/language-basics/'>language-basics</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://www.linkedin.com/in/marktruluck/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/hello_worlds_part_3/">Hello Worlds - Part 3</a><li><a href="/posts/gotta_branch/">Gotta Branch</a><li><a href="/posts/history_of_states/">The History of States (there won't be a quiz) </a><li><a href="/posts/hello_worlds_part_1/">Hello Worlds - Part 1</a><li><a href="/posts/what_is_frame/">What is Frame?</a></ul></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/hello_worlds_part_3/"><div class="card-body"> <span class="timeago small" > Feb 13, 2021 <i class="unloaded">2021-02-13T16:00:02+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hello Worlds - Part 3</h3><div class="text-muted small"><p> In the last installment of our conversation with the World, the denouement concludes with a demonstration of how to implement a key feature of Statecharts called hierarchical state machines and the...</p></div></div></a></div><div class="card"> <a href="/posts/gotta_branch/"><div class="card-body"> <span class="timeago small" > Feb 13, 2021 <i class="unloaded">2021-02-13T16:00:03+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Gotta Branch</h3><div class="text-muted small"><p> Overview of Frame Control Flow Mechanisms Frame is an evolving language and the current version (v0.3.23 at this instant) only supports branching syntax of various flavors. So at the moment you ca...</p></div></div></a></div><div class="card"> <a href="/posts/history_of_states/"><div class="card-body"> <span class="timeago small" > Feb 14, 2021 <i class="unloaded">2021-02-14T16:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>The History of States (there won't be a quiz)</h3><div class="text-muted small"><p> State History Mechanism The statechart was proposed by Dr. David Harel in his 1987 paper, which introduced a number of powerful augmentations to pure state machines as well as visual formalisms fo...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/hello_worlds_part_1/" class="btn btn-outline-primary" prompt="Older"><p>Hello Worlds - Part 1</p></a> <a href="/posts/hello_worlds_part_3/" class="btn btn-outline-primary" prompt="Newer"><p>Hello Worlds - Part 3</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/username">Mark Truluck</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
