<!DOCTYPE html><html lang="en-US" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Hello Worlds - Part 3" /><meta name="author" content="Mark Truluck" /><meta property="og:locale" content="en_US" /><meta name="description" content="In the last installment of our conversation with the World, the denouement concludes with a demonstration of how to implement a key feature of Statecharts called hierarchical state machines and the use of the stop message." /><meta property="og:description" content="In the last installment of our conversation with the World, the denouement concludes with a demonstration of how to implement a key feature of Statecharts called hierarchical state machines and the use of the stop message." /><link rel="canonical" href="/posts/hello_worlds_part_3/" /><meta property="og:url" content="/posts/hello_worlds_part_3/" /><meta property="og:site_name" content="Frame" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-02-13T16:00:02+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Hello Worlds - Part 3" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Mark Truluck" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Mark Truluck"},"description":"In the last installment of our conversation with the World, the denouement concludes with a demonstration of how to implement a key feature of Statecharts called hierarchical state machines and the use of the stop message.","url":"/posts/hello_worlds_part_3/","headline":"Hello Worlds - Part 3","@type":"BlogPosting","dateModified":"2021-04-28T21:42:41+08:00","datePublished":"2021-02-13T16:00:02+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/hello_worlds_part_3/"},"@context":"https://schema.org"}</script><title>Hello Worlds - Part 3 | Frame</title><link rel="icon" href="/assets/img/favicons/favicon.png" type="image/x-icon"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-VKPZ1VN8H2"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-VKPZ1VN8H2'); }); </script> <script async src="https://www.googletagmanager.com/gtag/js?id={"id"=>"G-VKPZ1VN8H2", "pv"=>{"enabled"=>false, "proxy_url"=>"", "proxy_endpoint"=>"", "cache"=>false}}"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', '{"id"=>"G-VKPZ1VN8H2", "pv"=>{"enabled"=>false, "proxy_url"=>"", "proxy_endpoint"=>"", "cache"=>false}}'); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div class="site-title mt-3"> <a href="/">Frame</a></div><div class="site-subtitle font-italic">A Software Architecture Language</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/resources/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>RESOURCES</span> </a><li class="nav-item"> <a href="/notation/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>FRAME NOTATION</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://www.linkedin.com/in/marktruluck/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['mark','frame-lang.org'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="https://github.com/frame-lang" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Hello Worlds - Part 3</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Hello Worlds - Part 3</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Feb 13, 2021, 4:00 PM +0800" > Feb 13, 2021 <i class="unloaded">2021-02-13T16:00:02+08:00</i> </span> by <span class="author"> Mark Truluck </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Wed, Apr 28, 2021, 6:42 PM +0500" > Apr 28, 2021 <i class="unloaded">2021-04-28T21:42:41+08:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1179 words">6 min</span></div></div><div class="post-content"><p>In the last installment of our conversation with the World, the denouement concludes with a demonstration of how to implement a key feature of Statecharts called <strong>hierarchical state machines</strong> and the use of the <strong>stop message</strong>.</p><h2 id="the-stop-message">The Stop Message</h2><p>Formal computational theory defines that state machines should have one or more <i>stop states</i>. A stop state is like any other state except that it is considered “correct” if a machine ends in one and “incorrect” if it does not.</p><p>These semantics are often related to validation of languages or other streams of activity. In the more mundane activity of developing an application, we often just want to turn the system off no matter what state it is currently in.</p><p>To do so in a standardized way, Frame defines the <code class="language-plaintext highlighter-rouge">&lt;&lt;</code> message token to be a reserved message meaning “stop”. However, system designers are free to ignore this convention as nothing bad will happen if other means are used to stop the system. However, its adoption allows Frame tools to recognize the semantic intent and utilize for other automated capabilities.</p><p>Here we see its use in our <code class="language-plaintext highlighter-rouge">$Working</code> state and how it drives our system to a proper <code class="language-plaintext highlighter-rouge">$End</code> state:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>
  $Working
    |&gt;|
      print("Hello World") ^
    |&lt;&lt;|
      -&gt; $End ^

  $End
    |&gt;|
      print("End of the World") ^
</pre></table></code></div></div><p>Here is the next World in all its manifestations:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre>#World_v11

  -interface-

  start @(|&gt;&gt;|)
  stop @(|&lt;&lt;|)

  -machine-

  $Begin
    |&gt;&gt;|
      -&gt; $Working ^

  $Working
    |&gt;|
      print("Hello World") ^
    |&lt;&lt;|
      -&gt; $End ^

  $End
    |&gt;|
      print("End of the World") ^

  -actions-

  print [msg:string]

##
</pre></table></code></div></div><p>Here is the <code class="language-plaintext highlighter-rouge">C#</code> generated from this system definition:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp">    <span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">System_v11</span> <span class="p">{</span>

        <span class="k">public</span> <span class="nf">World_v11</span><span class="p">()</span> <span class="p">{</span>

            <span class="n">_state_</span> <span class="p">=</span> <span class="n">_sBegin_</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">//===================== Interface Block ===================//</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">start</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">FrameEvent</span> <span class="n">e</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FrameEvent</span><span class="p">(</span><span class="s">"&gt;&gt;"</span><span class="p">,</span><span class="k">null</span><span class="p">);</span>
            <span class="nf">_state_</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">stop</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">FrameEvent</span> <span class="n">e</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FrameEvent</span><span class="p">(</span><span class="s">"&lt;&lt;"</span><span class="p">,</span><span class="k">null</span><span class="p">);</span>
            <span class="nf">_state_</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="p">}</span>    

        <span class="c1">//===================== Machine Block ===================//</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">_sBegin_</span><span class="p">(</span><span class="n">FrameEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Msg</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"&gt;&gt;"</span><span class="p">))</span> <span class="p">{</span>
                <span class="nf">_transition_</span><span class="p">(</span><span class="n">_sWorking_</span><span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">_sWorking_</span><span class="p">(</span><span class="n">FrameEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Msg</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"&gt;"</span><span class="p">))</span> <span class="p">{</span>
                <span class="nf">print_do</span><span class="p">(</span><span class="s">"Hello World"</span><span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Msg</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"&lt;&lt;"</span><span class="p">))</span> <span class="p">{</span>
                <span class="nf">_transition_</span><span class="p">(</span><span class="n">_sEnd_</span><span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">_sEnd_</span><span class="p">(</span><span class="n">FrameEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Msg</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"&gt;"</span><span class="p">))</span> <span class="p">{</span>
                <span class="nf">print_do</span><span class="p">(</span><span class="s">"End of the World"</span><span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">//===================== Actions Block ===================//</span>

        <span class="k">public</span> <span class="k">virtual</span> <span class="k">void</span> <span class="nf">print_do</span><span class="p">(</span><span class="kt">string</span> <span class="n">msg</span><span class="p">)</span> <span class="p">{}</span>

        <span class="c1">//=========== Machinery and Mechanisms ===========//</span>

        <span class="k">private</span> <span class="k">delegate</span> <span class="k">void</span> <span class="nf">FrameState</span><span class="p">(</span><span class="n">FrameEvent</span> <span class="n">e</span><span class="p">);</span>
        <span class="k">private</span> <span class="n">FrameState</span> <span class="n">_state_</span><span class="p">;</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">_transition_</span><span class="p">(</span><span class="n">FrameState</span> <span class="n">newState</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">FrameEvent</span> <span class="n">exitEvent</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FrameEvent</span><span class="p">(</span><span class="s">"&lt;"</span><span class="p">,</span><span class="k">null</span><span class="p">);</span>
            <span class="nf">_state_</span><span class="p">(</span><span class="n">exitEvent</span><span class="p">);</span>
            <span class="n">_state_</span> <span class="p">=</span> <span class="n">newState</span><span class="p">;</span>
            <span class="n">FrameEvent</span> <span class="n">enterEvent</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FrameEvent</span><span class="p">(</span><span class="s">"&gt;"</span><span class="p">,</span><span class="k">null</span><span class="p">);</span>
            <span class="nf">_state_</span><span class="p">(</span><span class="n">enterEvent</span><span class="p">);</span>
        <span class="p">}</span>    
    <span class="p">}</span></code></pre></figure><p>And the equivalent UML statechart:</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.plantuml.com/plantuml/png/SoWkIImgAStDuG8oIb8Ld5BJC_CKghbgeVpm_ABipBnq917Nl1GmBrehLa5NrmwYWmjCWlXm7LOAQig6HYRMTdOGcWig0L84CWIkmCO6gi0XDIy5w180" alt="" /></p><h2 id="hierarchical-state-machines-hsms">Hierarchical State Machines (HSMs)</h2><p>The pinnacle of Statechart mods to the standard state machine is the idea of factoring common behavior between two or more states into a parent state. This is very similar to object-oriented inheritance but is strictly related to behavior and not data.</p><p>UML implements this concept visually. Here we see <code class="language-plaintext highlighter-rouge">$A</code> and <code class="language-plaintext highlighter-rouge">$B</code> have identical transitions to <code class="language-plaintext highlighter-rouge">$C</code> when responding to <code class="language-plaintext highlighter-rouge">|e|</code>:</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.plantuml.com/plantuml/png/SoWkIImgAStDuG8oIb8L71MgkMgXR2SajZEOpUMeeAjh1-HOAQWf6ngPMAT2A2ud7E8EgNafGCC1" alt="" /></p><p>In Frame notation that system looks like this:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre>#FlatMachine

    -machine-

    $A
        |e| -&gt; $C ^

    $B
        |e| -&gt; $C ^

    $C

##
</pre></table></code></div></div><p>As we can see, there is redundant behavior between states <code class="language-plaintext highlighter-rouge">$A</code> and <code class="language-plaintext highlighter-rouge">$B</code>. <strong>Hierarchical State Machines (HSMs)</strong> allow system designers to factor out common behavior into a parent state using the “dispatch” symbol <code class="language-plaintext highlighter-rouge">=&gt;</code>:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre>#HSM

    -machine-

    $A =&gt; $Parent

    $B =&gt; $Parent

    $C

    $Parent
        |e| -&gt; $C ^    

##
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.plantuml.com/plantuml/png/SoWkIImgAStDuG8oIb8Ld1MgkMgXx834ejIy4g200X10X1oXl5eaCIUO650Z5rIFhguTq2Wh1JLbGoCJwrG8nUMGcfS2j0e0" alt="" /></p><p>Thanks to the approach Frame takes with implementing state machines, the mechanism for coding HSM functionality is trivial:</p><figure class="highlight"><pre><code class="language-csharp" data-lang="csharp">    <span class="c1">//===================== Machine Block ===================//</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">_sA_</span><span class="p">(</span><span class="n">FrameEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">_sParent_</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">_sB_</span><span class="p">(</span><span class="n">FrameEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">_sParent_</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">_sParent_</span><span class="p">(</span><span class="n">FrameEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Msg</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="s">"e"</span><span class="p">))</span> <span class="p">{</span>
            <span class="nf">_transition_</span><span class="p">(</span><span class="n">_sC_</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">_sC_</span><span class="p">(</span><span class="n">FrameEvent</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span></code></pre></figure><p>Let’s apply this to the final incarnation of our World.</p><h2 id="getting-in-the-final-world">Getting in the Final World</h2><p>And now, the magnum opus of our methodical exploration of “Hello World” in Frame notation:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
</pre><td class="rouge-code"><pre>#FinalWorld

    -interface-

    start @(|&gt;&gt;|)
    stop @(|&lt;&lt;|)
    tick [source:Object elapsedEvent:ElapsedEventArgs]

    -machine-

    $Begin
        |&gt;&gt;|
            print("In the Beginning...")
            -&gt; $Working ^

    $Working =&gt; $Default
        |&gt;|
            startTimer(500)
            print("Hello World") ^
        |&lt;|
            stopTimer()
            print("Done working") ^
        |tick|
            -&gt; $Resting ^

    $Resting =&gt; $Default
        |&gt;|
            startTimer(1000)
            print("I'm resting") ^
        |&lt;|
            stopTimer()
            print("Done resting") ^
        |tick|
            -&gt; $Working ^

    $Default
        |&lt;&lt;|
            -&gt; $End ^

    $End
        |&gt;|
            print("End of the World") ^

    -actions-

    print [msg:string]
    startTimer [interval:int]
    stopTimer  [interval:int]

    -domain-

    var timer:Timer = null

##
</pre></table></code></div></div><p>Let us explore each of the states to review what we have learned so far.</p><p>The <code class="language-plaintext highlighter-rouge">$Begin</code> state utilizes the “start system” message <code class="language-plaintext highlighter-rouge">&gt;&gt;</code> symbol to kick things into gear and then transitions to the <code class="language-plaintext highlighter-rouge">$Working</code> state to go do stuff.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>$Begin
    |&gt;&gt;|
        print("In the Beginning...")
        -&gt; $Working ^
</pre></table></code></div></div><p>The <code class="language-plaintext highlighter-rouge">$Working</code> state exercises the enter <code class="language-plaintext highlighter-rouge">&gt;</code> and exit <code class="language-plaintext highlighter-rouge">&lt;</code> messages by managing a timer with a custom interval. Upon timeout, the event hander for the <code class="language-plaintext highlighter-rouge">tick</code> message transitions the system to the <code class="language-plaintext highlighter-rouge">$Resting</code> state for a well deserved break.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>$Working =&gt; $Default
    |&gt;|
        startTimer(500)
        print("Hello World") ^
    |&lt;|
        stopTimer()
        print("Done working") ^
    |tick|
        -&gt; $Resting ^
</pre></table></code></div></div><p>The <code class="language-plaintext highlighter-rouge">$Resting</code> state is functionally equivalent to the <code class="language-plaintext highlighter-rouge">$Working</code> state and just cycles back to <code class="language-plaintext highlighter-rouge">$Working</code> after a long nap.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>$Resting =&gt; $Default
    |&gt;|
        startTimer(1000)
        print("I'm resting") ^
    |&lt;|
        stopTimer()
        print("Done resting") ^
    |tick|
        -&gt; $Working ^
</pre></table></code></div></div><p>Both <code class="language-plaintext highlighter-rouge">$Working</code> and <code class="language-plaintext highlighter-rouge">$Resting</code> factor out the code to handle the stop system message <code class="language-plaintext highlighter-rouge">&lt;&lt;</code> to the parent <code class="language-plaintext highlighter-rouge">$Default</code> state. This event handler simply transitions the system to the <code class="language-plaintext highlighter-rouge">$End</code> state.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>$Default
    |&lt;&lt;|
        -&gt; $End ^
</pre></table></code></div></div><p>In the <code class="language-plaintext highlighter-rouge">$End</code> the World says its goodbyes and goes quietly off into <code class="language-plaintext highlighter-rouge">/dev/null</code>.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>$End
    |&gt;|
        print("End of the World") ^
</pre></table></code></div></div><p>Here is the Framepiler generated UML documentation for the <code class="language-plaintext highlighter-rouge">#FinalWorld</code>:</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://www.plantuml.com/plantuml/png/SoWkIImgAStDuG8oIb8Ld5BJC_CKghbgeNoNrBJ4qfmIe8W24434mlEBiZFpqg5YjKWoGQd59KWoS5DSyrB0PaPhnIhewjf1RE42ao0-t4Gh1JLbGoCJQpix2Cq5bG0fWXgEK5IIcPmDLGQLWfk5GndKCo1b82V1bTZOG1KufEQb0CC20000" alt="" /></p><p>And at last, here is the final <code class="language-plaintext highlighter-rouge">C#</code> output and its running code (with a hand coded <code class="language-plaintext highlighter-rouge">print()</code> action):</p><iframe width="100%" height="475" src="https://dotnetfiddle.net/Widget/75tD78" frameborder="0"></iframe><h2 id="conclusion">Conclusion</h2><p>This concludes our exploration of advanced approaches to the classic “Hello World” program for new languages.</p><p>By making full use of both the stop message <code class="language-plaintext highlighter-rouge">&lt;&lt;</code> as well as our HSM mechanisms we have seens what may well be the most embellished “Hello World” ever.</p><p>In the spirit if not the brevity of the original “Hello World”, not enough information has been presented yet to really do much.</p><p>In the next article we will explore syntax for conditional branching that will provide the bare minimum architects and developers need to start to utilize Frame notation for system design and programming.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/language-basics/'>language-basics</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://www.linkedin.com/in/marktruluck/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/hello_worlds_part_3/">Hello Worlds - Part 3</a><li><a href="/posts/gotta_branch/">Gotta Branch</a><li><a href="/posts/history_of_states/">The History of States (there won't be a quiz) </a><li><a href="/posts/hello_worlds_part_1/">Hello Worlds - Part 1</a><li><a href="/posts/what_is_frame/">What is Frame?</a></ul></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/hello_worlds_part_2/"><div class="card-body"> <span class="timeago small" > Feb 13, 2021 <i class="unloaded">2021-02-13T16:00:01+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hello Worlds - Part 2</h3><div class="text-muted small"><p> Stateful machines In the last article we successfully had a Frame system say “Hello World”. In this one we will guild the lily a bit and explore some of the core Frame syntax for implementing basi...</p></div></div></a></div><div class="card"> <a href="/posts/gotta_branch/"><div class="card-body"> <span class="timeago small" > Feb 13, 2021 <i class="unloaded">2021-02-13T16:00:03+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Gotta Branch</h3><div class="text-muted small"><p> Overview of Frame Control Flow Mechanisms Frame is an evolving language and the current version (v0.3.23 at this instant) only supports branching syntax of various flavors. So at the moment you ca...</p></div></div></a></div><div class="card"> <a href="/posts/history_of_states/"><div class="card-body"> <span class="timeago small" > Feb 14, 2021 <i class="unloaded">2021-02-14T16:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>The History of States (there won't be a quiz)</h3><div class="text-muted small"><p> State History Mechanism The statechart was proposed by Dr. David Harel in his 1987 paper, which introduced a number of powerful augmentations to pure state machines as well as visual formalisms fo...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/hello_worlds_part_2/" class="btn btn-outline-primary" prompt="Older"><p>Hello Worlds - Part 2</p></a> <a href="/posts/gotta_branch/" class="btn btn-outline-primary" prompt="Newer"><p>Gotta Branch</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/username">Mark Truluck</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
